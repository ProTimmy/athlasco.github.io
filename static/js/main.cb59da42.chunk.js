(this["webpackJsonpathlas.us"]=this["webpackJsonpathlas.us"]||[]).push([[0],{34:function(e,t,n){e.exports=n(53)},46:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(29),l=n.n(u);n(39),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(6),o=n(3),i=n(15),s=n(17),m=n.n(s),d=(n(40),n(42),{apiKey:"AIzaSyCyzjpM-Td5MIf0Lhgaes90Z5L5XtZerYM",authDomain:"athlas-4ae1b.firebaseapp.com",databaseURL:"https://athlas-4ae1b.firebaseio.com",projectId:"athlas-4ae1b",storageBucket:"athlas-4ae1b.appspot.com",messagingSenderId:"681754440432",appId:"1:681754440432:web:3d34c91b082cbeff5c4835",measurementId:"G-VXMB44Z5MT"}),f=function e(){var t=this;Object(i.a)(this,e),this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.doc("users/".concat(e))},this.users=function(){return t.db.collection("users")},this.tags=function(){return t.db.collection("tags")},this.tag=function(e){return t.db.doc("tags/".concat(e))},m.a.initializeApp(d),this.auth=m.a.auth(),this.db=m.a.firestore()},p=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(p.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},E=p,h=f,g=(n(46),b((function(e){var t=e.firebase;return r.a.createElement("button",{className:"SignOutButton",type:"button",onClick:t.doSignOut},"Sign Out")}))),w=r.a.createContext(null),v=n(4),O=function(e){return b((function(t){var n=Object(a.useState)(null),u=Object(v.a)(n,2),l=u[0],c=u[1];return Object(a.useEffect)((function(){t.firebase.auth.onAuthStateChanged((function(e){c(e||null)}))})),r.a.createElement(w.Provider,{value:l},r.a.createElement(e,t))}))},j=n(16),S=function(e){return function(t){return Object(j.a)(o.e,b)((function(n){return Object(a.useEffect)((function(){n.firebase.auth.onAuthStateChanged((function(t){e(t)||n.history.push("/signin")}))})),r.a.createElement(w.Consumer,null,(function(a){return e(a)?r.a.createElement(t,n):null}))}))}},y=(n(52),function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/editor"},"Editor")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/account"},"Account")),r.a.createElement(g,null)))}),P=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Landing"))))},C=function(){return r.a.createElement("div",{className:"Navigation"},r.a.createElement(w.Consumer,null,(function(e){return e?r.a.createElement(y,null):r.a.createElement(P,null)})))},I=function(){return r.a.createElement("div",null,"Landing Page")},A=n(10),k=n(8),L={email:""},M=function(){return r.a.createElement("p",null,r.a.createElement(c.b,{to:"/pw-forget"},"Forgot Password?"))},x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Password Forget"),r.a.createElement(N,null))},N=b((function(e){var t=Object(a.useState)(L),n=Object(v.a)(t,2),u=n[0],l=n[1],c=Object(a.useState)(null),o=Object(v.a)(c,2),i=o[0],s=o[1],m=""===u.email;return r.a.createElement("form",{onSubmit:function(t){var n=u.email;e.firebase.doPasswordReset(n).then((function(){l(L)})).catch((function(e){console.log(e),s(e)})),t.preventDefault()}},r.a.createElement("input",{name:"email",value:u.email,onChange:function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(A.a)({},n,a))}))},type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:m,type:"submit"},"Reset My Password"),i&&r.a.createElement("p",null,i.message))})),R={email:"",password:""},T=Object(j.a)(o.e,b)((function(e){var t=Object(a.useState)(R),n=Object(v.a)(t,2),u=n[0],l=n[1],c=Object(a.useState)(null),o=Object(v.a)(c,2),i=o[0],s=o[1],m=function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(A.a)({},n,a))}))},d=""===u.password||""===u.email;return r.a.createElement("form",{onSubmit:function(t){var n=u.email,a=u.password;e.firebase.doSignInWithEmailAndPassword(n,a).then((function(){l(R),e.history.push("/editor")})).catch((function(e){console.log(e),s(e)})),t.preventDefault()}},r.a.createElement("input",{name:"email",value:u.email,onChange:m,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:u.password,onChange:m,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:d,type:"submit"},"Sign In"),i&&r.a.createElement("p",null,i.message))})),B=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign In"),r.a.createElement(T,null),r.a.createElement(M,null))},W={passwordOne:"",passwordTwo:""},z=b((function(e){var t=Object(a.useState)(W),n=Object(v.a)(t,2),u=n[0],l=n[1],c=Object(a.useState)(null),o=Object(v.a)(c,2),i=o[0],s=o[1],m=function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(A.a)({},n,a))}))},d=u.passwordOne!==u.passwordTwo||""===u.passwordOne;return r.a.createElement("form",{onSubmit:function(t){var n=u.passwordOne;e.firebase.doPasswordUpdate(n).then((function(){l(W)})).catch((function(e){s(e)})),t.preventDefault()}},r.a.createElement("input",{name:"passwordOne",value:u.passwordOne,onChange:m,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:u.passwordTwo,onChange:m,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:d,type:"submit"},"Reset My Password"),i&&r.a.createElement("p",null,i.message))})),D=S((function(e){return!!e}))((function(){return r.a.createElement(w.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(N,null),r.a.createElement(z,null))}))})),U=n(33),Z=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,e.name))},F=function(e){return e.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,e.tags.map((function(e){return r.a.createElement(Z,{key:e.id,name:e.name})})))},J=function(){function e(t,n){Object(i.a)(this,e),this.id=t,this.name=n.name,this.data=n}return Object(U.a)(e,[{key:"getParent",value:function(){var t=this.data.parent;if(null!=t)return new e(t.id,t.data());console.log("No parent")}}]),e}(),X=S((function(e){return!!e}))((function(e){var t=Object(a.useState)([]),n=Object(v.a)(t,2),u=n[0],l=n[1],c=Object(a.useState)(!1),o=Object(v.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){s(!0);var t=e.firebase.tags().onSnapshot((function(e){if(e.size){var t=[];e.forEach((function(e){var n=new J(e.id,e.data());t.push(Object(k.a)({},n))})),l(t),s(!1)}else s(!1)}));return function(){return t()}}),[e.firebase]),r.a.createElement(w.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement(F,{tags:u,loading:i}))}))})),G=O((function(){return r.a.createElement(c.a,{basename:"/"},r.a.createElement(C,null),r.a.createElement(o.a,{exact:!0,path:"/",component:I}),r.a.createElement(o.a,{path:"/signin",component:B}),r.a.createElement(o.a,{path:"/pw-forget",component:x}),r.a.createElement(o.a,{path:"/account",component:D}),r.a.createElement(o.a,{path:"/editor",component:X}))}));l.a.render(r.a.createElement(E.Provider,{value:new h},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.cb59da42.chunk.js.map