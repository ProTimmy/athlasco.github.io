(this["webpackJsonpathlas.us"]=this["webpackJsonpathlas.us"]||[]).push([[0],{34:function(e,t,n){e.exports=n(57)},40:function(e,t,n){},41:function(e,t,n){},48:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),l=n.n(c);n(39),n(40),n(41),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(6),o=n(3),i=n(16),s=n(14),m=n.n(s),d=(n(42),n(44),{apiKey:"AIzaSyCyzjpM-Td5MIf0Lhgaes90Z5L5XtZerYM",authDomain:"athlas-4ae1b.firebaseapp.com",databaseURL:"https://athlas-4ae1b.firebaseio.com",projectId:"athlas-4ae1b",storageBucket:"athlas-4ae1b.appspot.com",messagingSenderId:"681754440432",appId:"1:681754440432:web:3d34c91b082cbeff5c4835",measurementId:"G-VXMB44Z5MT"}),f=function e(){var t=this;Object(i.a)(this,e),this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.doc("users/".concat(e))},this.users=function(){return t.db.collection("users")},this.tags=function(){return t.db.collection("tags")},this.tag=function(e){return t.db.doc("tags/".concat(e))},m.a.initializeApp(d),this.auth=m.a.auth(),this.db=m.a.firestore(),this.db.settings({cacheSizeBytes:m.a.firestore.CACHE_SIZE_UNLIMITED}),this.db.enablePersistence()},E=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(E.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},p=E,h=f,g=(n(48),b((function(e){var t=e.firebase;return r.a.createElement("button",{className:"SignOutButton",type:"button",onClick:t.doSignOut},"Sign Out")}))),v=r.a.createContext(null),w=n(4),O=function(e){return b((function(t){var n=Object(a.useState)(null),c=Object(w.a)(n,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){t.firebase.auth.onAuthStateChanged((function(e){u(e||null)}))})),r.a.createElement(v.Provider,{value:l},r.a.createElement(e,t))}))},j=n(17),S=function(e){return function(t){return Object(j.a)(o.e,b)((function(n){return Object(a.useEffect)((function(){n.firebase.auth.onAuthStateChanged((function(t){e(t)||n.history.push("/signin")}))})),r.a.createElement(v.Consumer,null,(function(a){return e(a)?r.a.createElement(t,n):null}))}))}},y=(n(54),function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/editor"},"Editor")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/account"},"Account")),r.a.createElement(g,null)))}),P=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"Landing"))))},C=function(){return r.a.createElement("div",{className:"Navigation"},r.a.createElement(v.Consumer,null,(function(e){return e?r.a.createElement(y,null):r.a.createElement(P,null)})))},I=function(){return r.a.createElement("div",null,"Landing Page")},A=n(10),N=n(8),T={email:""},L=function(){return r.a.createElement("p",null,r.a.createElement(u.b,{to:"/pw-forget"},"Forgot Password?"))},k=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Password Forget"),r.a.createElement(M,null))},M=b((function(e){var t=Object(a.useState)(T),n=Object(w.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(null),o=Object(w.a)(u,2),i=o[0],s=o[1],m=""===c.email;return r.a.createElement("form",{onSubmit:function(t){var n=c.email;e.firebase.doPasswordReset(n).then((function(){l(T)})).catch((function(e){console.log(e),s(e)})),t.preventDefault()}},r.a.createElement("input",{name:"email",value:c.email,onChange:function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(A.a)({},n,a))}))},type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:m,type:"submit"},"Reset My Password"),i&&r.a.createElement("p",null,i.message))})),x={email:"",password:""},B=Object(j.a)(o.e,b)((function(e){var t=Object(a.useState)(x),n=Object(w.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(null),o=Object(w.a)(u,2),i=o[0],s=o[1],m=function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(A.a)({},n,a))}))},d=""===c.password||""===c.email;return r.a.createElement("form",{onSubmit:function(t){var n=c.email,a=c.password;e.firebase.doSignInWithEmailAndPassword(n,a).then((function(){l(x),e.history.push("/editor")})).catch((function(e){console.log(e),s(e)})),t.preventDefault()}},r.a.createElement("input",{name:"email",value:c.email,onChange:m,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:c.password,onChange:m,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:d,type:"submit"},"Sign In"),i&&r.a.createElement("p",null,i.message))})),R=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign In"),r.a.createElement(B,null),r.a.createElement(L,null))},z={passwordOne:"",passwordTwo:""},D=b((function(e){var t=Object(a.useState)(z),n=Object(w.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(null),o=Object(w.a)(u,2),i=o[0],s=o[1],m=function(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(A.a)({},n,a))}))},d=c.passwordOne!==c.passwordTwo||""===c.passwordOne;return r.a.createElement("form",{onSubmit:function(t){var n=c.passwordOne;e.firebase.doPasswordUpdate(n).then((function(){l(z)})).catch((function(e){s(e)})),t.preventDefault()}},r.a.createElement("input",{name:"passwordOne",value:c.passwordOne,onChange:m,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:c.passwordTwo,onChange:m,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:d,type:"submit"},"Reset My Password"),i&&r.a.createElement("p",null,i.message))})),U=S((function(e){return!!e}))((function(){return r.a.createElement(v.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(M,null),r.a.createElement(D,null))}))})),W=n(33),V=function(e){return r.a.createElement("div",{className:"Tag"},r.a.createElement("p",null,e.name))},Z=(n(55),function(e){var t=Object(a.useState)(""),n=Object(w.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)([]),o=Object(w.a)(u,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){var t=e.tags.filter((function(e){return e.name.includes(c)}));s(t)}),[e.tags,c]),e.loading?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",{className:"TagList"},r.a.createElement("input",{type:"search",value:c,onChange:function(e){return l(e.target.value)},placeholder:"Search"}),i.map((function(e){return r.a.createElement(V,{key:e.id,name:e.name})})))}),F=(n(56),function(){function e(t,n){Object(i.a)(this,e),this.id=t,this.name=n.name,this.data=n}return Object(W.a)(e,[{key:"getParent",value:function(){var t=this.data.parent;if(null!=t)return new e(t.id,t.data());console.log("No parent")}}]),e}()),J=S((function(e){return!!e}))((function(e){var t=Object(a.useState)([]),n=Object(w.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(!1),o=Object(w.a)(u,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){s(!0);var t=e.firebase.tags().onSnapshot((function(e){if(e.size){var t=[];e.forEach((function(e){var n=new F(e.id,e.data());t.push(Object(N.a)({},n))})),l(t),s(!1)}else s(!1)}));return function(){return t()}}),[e.firebase]),r.a.createElement(v.Consumer,null,(function(e){return r.a.createElement("div",{className:"Editor"},r.a.createElement(Z,{tags:c,loading:i}),r.a.createElement("div",{className:"VideoArea"},r.a.createElement("div",{className:"VideoPlayer"},"Video Player"),r.a.createElement("div",{className:"TagControls"},"Tag Controls")))}))})),X=O((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{basename:"/"},r.a.createElement(C,null),r.a.createElement(o.a,{exact:!0,path:"/",component:I}),r.a.createElement(o.a,{path:"/signin",component:R}),r.a.createElement(o.a,{path:"/pw-forget",component:k}),r.a.createElement(o.a,{path:"/account",component:U}),r.a.createElement(o.a,{path:"/editor",component:J})))}));l.a.render(r.a.createElement(p.Provider,{value:new h},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.2af2d189.chunk.js.map