{"version":3,"sources":["components/ProtectedRoute.jsx","firebase/Firebase.js","constants/firebase_config.js","redux/actions/auth.js","redux/actions/tags.js","redux/actions/video.js","components/Navigation/SignInButton/index.jsx","components/Navigation/SignOutButton/index.jsx","components/Navigation/navigationStyles.js","components/Navigation/index.jsx","components/Home/index.jsx","components/Login/loginStyles.js","components/Login/index.jsx","components/Editor/editorStyles.js","components/Editor/VideoPlayer/videoPlayerStyles.js","components/Editor/VideoControls/ClearSelectionDialog/index.jsx","components/Editor/VideoControls/videoControlStyles.js","components/Editor/VideoControls/index.jsx","components/Editor/VideoPlayer/index.jsx","data/TagData.js","components/Editor/TagEditor/AddTagModal/addTagModalStyles.js","components/Editor/TagEditor/AddTagModal/index.jsx","components/Editor/TagEditor/TagTree/TagTreeNode/index.jsx","components/Editor/TagEditor/TagTree/tagTreeStyles.js","components/Editor/TagEditor/TagTree/index.jsx","components/Editor/TagEditor/tagEditorStyles.js","components/Editor/TagEditor/index.jsx","components/Editor/index.jsx","App.jsx","redux/reducers/tags.js","redux/reducers/index.js","redux/reducers/auth.js","redux/reducers/video.js","Root.jsx","configureStore.js","index.js"],"names":["ProtectedRoute","Component","component","isAuthenticated","isVerifying","rest","render","props","to","pathname","state","from","location","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","AUTH_LOGIN_REQUEST","firestore","AUTH_LOGIN_SUCCESS","AUTH_LOGIN_FAILURE","AUTH_LOGOUT_REQUEST","AUTH_LOGOUT_SUCCESS","AUTH_LOGOUT_FAILURE","AUTH_VERIFY_REQUEST","AUTH_VERIFY_SUCCESS","receiveLoginAction","user","type","loginUser","email","password","dispatch","auth","signInWithEmailAndPassword","then","catch","logoutUser","signOut","verifyAuth","onAuthStateChanged","TAG_TOGGLE_ADD_MODAL","TAG_ADD","tagsCollection","collection","tagListSubscription","setToggleAddModal","toggle","toggleAddModalAction","getTagList","orderBy","onSnapshot","snapshot","addTags","updateTags","removeTags","docChanges","forEach","change","concat","doc","tags","updateTagsAction","removeTagsAction","error","tagListErrorAction","VIDEO_HANDLE_FILE","VIDEO_PLAY","VIDEO_PAUSE","VIDEO_SKIP_FORWARDS","VIDEO_SKIP_BACKWARDS","VIDEO_TOGGLE_CLEAR_DIALOG","VIDEO_CLEAR_SELECTION","VIDEO_UPLOAD_PROJECT","setVideoFile","videoFilePath","videoHandleFileAction","playVideo","pauseVideo","skipForwards","skipBackwards","toggleClearDialog","videoToggleClearDialogAction","clearFileSelection","SignInButton","history","useHistory","Button","color","onClick","push","connect","isLoggingOut","logoutError","navigationStyles","root","display","navigation","flexGrow","NavigationAuth","Toolbar","className","classes","handleRoute","signOutButton","NavigationNonAuth","signInButton","withStyles","useLocation","useEffect","route","AppBar","position","Home","loginStyles","body","backgroundColor","paper","marginTop","padding","flexDirection","alignItems","avatar","marginLeft","marginRight","form","errorText","marginBottom","textAlign","isLoggingIn","loginError","useState","setEmail","setPassword","Container","maxWidth","Paper","Avatar","Typography","variant","TextField","margin","fullWidth","id","label","name","onChange","target","value","submit","editorStyles","editor","height","videoPlayerStyles","videoArea","uploadFile","cursor","fontSize","videoPlayer","justifyContent","clearDialogToggle","video","handleClose","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","videoControlStyles","controls","flexBasis","minHeight","controlBar","isPlaying","Tooltip","title","IconButton","disabled","Replay10","PlayArrow","Pause","Forward10","Clear","console","log","CloudUpload","handleVideoFile","event","preventDefault","URL","createObjectURL","files","UploadIcon","accept","style","url","playing","pip","TagData","description","parent","children","attributes","other","this","childIndex","findIndex","child","newTag","copy","Record","addTagModalStyles","tagName","tagDescription","parentTag","attribute","attributeDeleteIcon","attributeOptions","minWidth","addModalToggle","tagList","setTagName","setTagDescription","setParentTag","tagAttributes","setTagAttribute","isValidForm","clearState","handleEnableAttributeError","attr","e","multiline","rows","Autocomplete","options","getOptionLabel","tag","_","val","handleSetParentTag","renderInput","params","map","filter","disableRipple","Delete","helperText","attributeName","handleChangeAttributeName","attrIndex","handleChangeAttributeOption","multiple","freeSolo","uuidv4","startIcon","Add","isValidSave","length","newAttribute","add","addTagFailureAction","addTag","TagTreeNode","setOpen","hasChildren","setHasChildren","ListItem","button","ListItemIcon","ExpandLess","ExpandMore","Dehaze","ListItemText","primary","Collapse","in","unmountOnExit","tagTreeStyles","tagTree","border","rootTags","setRootTags","rootTag","List","tagEditorStyles","tagEditor","borderRight","searchArea","searchBox","searchTerm","setSearchTerm","InputProps","startAdornment","InputAdornment","Search","exact","path","Login","Editor","createTagObject","data","addTagToList","equals","modifiedTagList","parentTagId","split","pop","parentIndex","addChild","combineReducers","action","verifyingError","newTagList","store","persistedState","createStore","rootReducer","applyMiddleware","thunkMiddleware","configureStore","Root","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.47753cb5.chunk.js","sourcesContent":["/* eslint-disable no-nested-ternary */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ProtectedRoute = ({\n  component: Component,\n  isAuthenticated,\n  isVerifying,\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={ (props) => (isVerifying ? (\n      <div />\n    ) : isAuthenticated ? (\n      <Component {...props} />\n    ) : (\n      <Redirect\n        to={{\n          pathname: '/login',\n          state: { from: props.location },\n        }}\n      />\n    ))}\n  />\n);\n\nProtectedRoute.propTypes = {\n  component: PropTypes.object,\n  isAuthenticated: PropTypes.bool,\n  isVerifying: PropTypes.bool,\n  location: PropTypes.string,\n};\n\nexport default ProtectedRoute;\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport * as FB_CONFIG from '../constants/firebase_config';\n\nconst firebaseConfig = {\n  apiKey: FB_CONFIG.ATHLAS_API_KEY,\n  authDomain: FB_CONFIG.ATHLAS_AUTH_DOMAIN,\n  databaseURL: FB_CONFIG.ATHLAS_DATABASE_URL,\n  projectId: FB_CONFIG.ATHLAS_PROJECT_ID,\n  storageBucket: FB_CONFIG.ATHLAS_STORAGE_BUCKET,\n  messagingSenderId: FB_CONFIG.ATHLAS_MESSAGING_SENDER_ID,\n  appId: FB_CONFIG.ATHLAS_APP_ID,\n  measurementId: FB_CONFIG.ATHLAS_MEASUREMENT_ID,\n};\n\nexport const firebaseApp = firebase.initializeApp(firebaseConfig);\nexport const db = firebaseApp.firestore();\n","export const ATHLAS_API_KEY = 'AIzaSyCyzjpM-Td5MIf0Lhgaes90Z5L5XtZerYM';\nexport const ATHLAS_AUTH_DOMAIN = 'athlas-4ae1b.firebaseapp.com';\nexport const ATHLAS_DATABASE_URL = 'https://athlas-4ae1b.firebaseio.com';\nexport const ATHLAS_PROJECT_ID = 'athlas-4ae1b';\nexport const ATHLAS_STORAGE_BUCKET = 'athlas-4ae1b.appspot.com';\nexport const ATHLAS_MESSAGING_SENDER_ID = '681754440432';\nexport const ATHLAS_APP_ID = '1:681754440432:web:3d34c91b082cbeff5c4835';\nexport const ATHLAS_MEASUREMENT_ID = 'G-VXMB44Z5MT';\n","import { firebaseApp } from '../../firebase/Firebase';\n\nexport const AUTH_LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const AUTH_LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const AUTH_LOGIN_FAILURE = 'LOGIN_FAILURE';\n\nexport const AUTH_LOGOUT_REQUEST = 'LOGOUT_REQUEST';\nexport const AUTH_LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\nexport const AUTH_LOGOUT_FAILURE = 'LOGOUT_FAILURE';\n\nexport const AUTH_VERIFY_REQUEST = 'VERIFY_REQUEST';\nexport const AUTH_VERIFY_SUCCESS = 'VERIFY_SUCCESS';\n\nconst requestLoginAction = () => ({\n  type: AUTH_LOGIN_REQUEST,\n});\n\nconst receiveLoginAction = (user) => ({\n  type: AUTH_LOGIN_SUCCESS,\n  user,\n});\n\nconst loginErrorAction = () => ({\n  type: AUTH_LOGIN_FAILURE,\n});\n\nconst requestLogoutAction = () => ({\n  type: AUTH_LOGOUT_REQUEST,\n});\n\nconst receiveLogoutAction = () => ({\n  type: AUTH_LOGOUT_SUCCESS,\n});\n\nconst logoutErrorAction = () => ({\n  type: AUTH_LOGOUT_FAILURE,\n});\n\nconst verifyRequestAction = () => ({\n  type: AUTH_VERIFY_REQUEST,\n});\n\nconst verifySuccessAction = () => ({\n  type: AUTH_VERIFY_SUCCESS,\n});\n\nexport const loginUser = (email, password) => (dispatch) => {\n  dispatch(requestLoginAction());\n  firebaseApp\n    .auth()\n    .signInWithEmailAndPassword(email, password)\n    .then((user) => {\n      dispatch(receiveLoginAction(user));\n    })\n    .catch(() => {\n      dispatch(loginErrorAction());\n    });\n};\n\nexport const logoutUser = () => (dispatch) => {\n  dispatch(requestLogoutAction());\n  firebaseApp\n    .auth()\n    .signOut()\n    .then(() => {\n      dispatch(receiveLogoutAction());\n    })\n    .catch(() => {\n      dispatch(logoutErrorAction());\n    });\n};\n\nexport const verifyAuth = () => (dispatch) => {\n  dispatch(verifyRequestAction());\n  firebaseApp\n    .auth()\n    .onAuthStateChanged((user) => {\n      if (user != null) {\n        dispatch(receiveLoginAction(user));\n      }\n\n      dispatch(verifySuccessAction());\n    });\n};\n","// import firebase from 'firebase/app';\nimport { firebaseApp } from '../../firebase/Firebase';\n\nexport const TAG_TOGGLE_ADD_MODAL = 'TAG_TOGGLE_ADD_MODAL';\nexport const TAG_LIST_REQUEST = 'TAG_LIST_REQUEST';\nexport const TAG_ADD = 'TAG_ADD';\nexport const TAG_REMOVE = 'TAG_REMOVE';\nexport const TAG_UPDATE = 'TAG_UPDATE';\nexport const TAG_LIST_FAILURE = 'TAG_LIST_FAILURE';\nexport const TAG_LIST_UNSUBSCRIBE = 'TAG_LIST_UNSUBSCRIBE';\nexport const TAG_ADD_REQUEST = 'TAG_ADD_REQUEST';\nexport const TAG_ADD_FAILURE = 'TAG_ADD_FAILURE';\n\n/** Firestore collection references */\nconst tagsCollection = firebaseApp.firestore().collection('tags');\n/** ******************** */\n\n/** Subscriptions for Firebase snapshots */\nlet tagListSubscription = null;\n/** ******************** */\n\nconst toggleAddModalAction = (toggle) => ({\n  type: TAG_TOGGLE_ADD_MODAL,\n  toggle,\n});\n\nconst requestTagListAction = () => ({\n  type: TAG_LIST_REQUEST,\n});\n\nconst addTagsAction = (tags) => ({\n  type: TAG_ADD,\n  tags,\n});\n\nconst updateTagsAction = (tags) => ({\n  type: TAG_UPDATE,\n  tags,\n});\n\nconst removeTagsAction = (tags) => ({\n  type: TAG_REMOVE,\n  tags,\n});\n\nconst tagListErrorAction = (error) => ({\n  type: TAG_LIST_FAILURE,\n  error,\n});\n\nconst tagListUnsubscribeAction = () => ({\n  type: TAG_LIST_UNSUBSCRIBE,\n});\n\nconst addTagRequestAction = () => ({\n  type: TAG_ADD_REQUEST,\n});\n\nconst addTagFailureAction = (error) => ({\n  type: TAG_ADD_FAILURE,\n  error,\n});\n\nexport const setToggleAddModal = (toggle) => (dispatch) => {\n  dispatch(toggleAddModalAction(toggle));\n};\n\nexport const getTagList = () => (dispatch) => {\n  dispatch(requestTagListAction());\n\n  tagListSubscription = tagsCollection\n    .orderBy('parent')\n    .onSnapshot(\n      (snapshot) => {\n        let addTags = [];\n        let updateTags = [];\n        let removeTags = [];\n\n        snapshot.docChanges().forEach((change) => {\n          if (change.type === 'added') {\n            // Add tag action\n            addTags = addTags.concat(change.doc);\n          } else if (change.type === 'modified') {\n            // Modify tag action\n            updateTags = updateTags.concat(change.doc);\n          } else if (change.type === 'removed') {\n            // Remove tag action\n            removeTags = removeTags.concat(change.doc);\n          }\n        });\n\n        dispatch(addTagsAction(addTags));\n        dispatch(updateTagsAction(updateTags));\n        dispatch(removeTagsAction(removeTags));\n      },\n      (error) => {\n        dispatch(tagListErrorAction(error));\n      },\n    );\n};\n\nexport const unsubscribeGetTagList = () => (dispatch) => {\n  if (tagListSubscription !== null) {\n    tagListSubscription(); // Stop listening to changes\n    dispatch(tagListUnsubscribeAction());\n  }\n};\n\nexport const addTag = (newTag) => (dispatch) => {\n  dispatch(addTagRequestAction());\n\n  tagsCollection\n    .add({\n      name: newTag.name,\n      description: newTag.description,\n      parent: newTag.parent,\n      attributes: newTag.attributes,\n    })\n    .catch((error) => {\n      dispatch(addTagFailureAction(error));\n    });\n};\n","export const VIDEO_HANDLE_FILE = 'VIDEO_HANDLE_FILE';\nexport const VIDEO_PLAY = 'VIDEO_PLAY';\nexport const VIDEO_PAUSE = 'VIDEO_PAUSE';\nexport const VIDEO_SKIP_FORWARDS = 'VIDEO_SKIP_FORWARDS';\nexport const VIDEO_SKIP_BACKWARDS = 'VIDEO_SKIP_BACKWARDS';\nexport const VIDEO_TOGGLE_CLEAR_DIALOG = 'VIDEO_TOGGLE_CLEAR_DIALOG';\nexport const VIDEO_CLEAR_SELECTION = 'VIDEO_CLEAR_SELECTION';\nexport const VIDEO_UPLOAD_PROJECT = 'VIDEO_UPLOAD_PROJECT';\n\nconst videoHandleFileAction = (videoFilePath) => ({\n  type: VIDEO_HANDLE_FILE,\n  videoFilePath,\n});\n\nconst playVideoAction = () => ({\n  type: VIDEO_PLAY,\n});\n\nconst pauseVideoAction = () => ({\n  type: VIDEO_PAUSE,\n});\n\nconst skipForwardsAction = () => ({\n  type: VIDEO_SKIP_FORWARDS,\n});\n\nconst skipBackwardsAction = () => ({\n  type: VIDEO_SKIP_BACKWARDS,\n});\n\nconst videoToggleClearDialogAction = (toggle) => ({\n  type: VIDEO_TOGGLE_CLEAR_DIALOG,\n  toggle,\n});\n\nconst clearFileSelectionAction = () => ({\n  type: VIDEO_CLEAR_SELECTION,\n});\n\nconst uploadVideoProjectAction = () => ({\n  type: VIDEO_UPLOAD_PROJECT,\n});\n\nexport const setVideoFile = (videoFilePath) => (dispatch) => {\n  dispatch(videoHandleFileAction(videoFilePath));\n};\n\nexport const playVideo = () => (dispatch) => {\n  dispatch(playVideoAction());\n};\n\nexport const pauseVideo = () => (dispatch) => {\n  dispatch(pauseVideoAction());\n};\n\nexport const skipForwards = () => (dispatch) => {\n  dispatch(skipForwardsAction());\n};\n\nexport const skipBackwards = () => (dispatch) => {\n  dispatch(skipBackwardsAction());\n};\n\nexport const toggleClearDialog = (toggle) => (dispatch) => {\n  dispatch(videoToggleClearDialogAction(toggle));\n};\n\nexport const clearFileSelection = () => (dispatch) => {\n  dispatch(clearFileSelectionAction());\n};\n\nexport const uploadVideoProject = () => (dispatch) => {\n  dispatch(uploadVideoProjectAction());\n};\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Button from '@material-ui/core/Button';\n\nconst SignInButton = () => {\n  const history = useHistory();\n\n  const handleSignIn = () => {\n    history.push('/login');\n  };\n\n  return (\n    <Button\n      type='button'\n      color='inherit'\n      onClick={handleSignIn}\n    >Sign In</Button>\n  );\n};\n\nexport default SignInButton;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\n\nimport { logoutUser } from '../../../redux/actions';\n\nconst SignOutButton = (props) => {\n  const handleSignOut = () => {\n    const { dispatch } = props;\n\n    dispatch(logoutUser());\n  };\n\n  return (\n    <Button\n      type='button'\n      color='inherit'\n      onClick={handleSignOut}\n    >Sign Out</Button>\n  );\n};\n\nSignOutButton.propTypes = {\n  dispatch: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  isLoggingOut: state.auth.isLoggingOut,\n  logoutError: state.auth.logoutError,\n});\n\nexport default connect(mapStateToProps)(SignOutButton);\n","const navigationStyles = () => ({\n  root: {\n    display: 'flex',\n  },\n  navigation: {\n    flexGrow: 1,\n  },\n});\n\nexport default navigationStyles;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\n\nimport { getTagList, unsubscribeGetTagList } from '../../redux/actions';\n\nimport SignInButton from './SignInButton';\nimport SignOutButton from './SignOutButton';\n\nimport navigationStyles from './navigationStyles';\n\nconst Navigation = (props) => {\n  const history = useHistory();\n  const location = useLocation();\n\n  const { classes, dispatch, isAuthenticated } = props;\n\n  useEffect(() => {\n    if (location.pathname === '/editor') {\n      // Get Tag List\n      dispatch(getTagList());\n    } else {\n      // Unsubscribe tag list\n      dispatch(unsubscribeGetTagList());\n    }\n  }, [location]);\n\n  const handleRoute = (route) => {\n    history.push(route);\n  };\n\n  return (\n    <AppBar position='static' className={classes.root}>\n      { isAuthenticated ? (\n        <NavigationAuth\n          classes={classes}\n          handleRoute={handleRoute} />\n      ) : (\n        <NavigationNonAuth\n          classes={classes}\n          handleRoute={handleRoute} />\n      )}\n    </AppBar>\n  );\n};\n\nconst NavigationAuth = (props) => (\n  <Toolbar className={props.classes.root}>\n    <div className={props.classes.navigation}>\n      <Button\n        type='button'\n        color='inherit'\n        onClick={() => props.handleRoute('/')}\n      >Home</Button>\n      <Button\n        type='button'\n        color='inherit'\n        onClick={() => props.handleRoute('/editor')}\n      >Editor</Button>\n    </div>\n    <SignOutButton className={props.classes.signOutButton} />\n  </Toolbar>\n);\n\nconst NavigationNonAuth = (props) => (\n  <Toolbar className={props.classes.root}>\n    <div className={props.classes.navigation}>\n      <Button\n        type='button'\n        color='inherit'\n        onClick={() => props.handleRoute('/')}\n      >Home</Button>\n    </div>\n    <SignInButton className={props.classes.signInButton} />\n  </Toolbar>\n);\n\nNavigation.propTypes = {\n  classes: PropTypes.any,\n  dispatch: PropTypes.func,\n  isAuthenticated: PropTypes.bool,\n};\n\nNavigationAuth.propTypes = {\n  handleRoute: PropTypes.func,\n  classes: PropTypes.any,\n};\n\nNavigationNonAuth.propTypes = {\n  handleRoute: PropTypes.func,\n  classes: PropTypes.any,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default withStyles(navigationStyles)(connect(mapStateToProps)(Navigation));\n","import React from 'react';\n\nconst Home = () => (\n  <div>\n    <h1>Home</h1>\n  </div>\n);\n\nexport default Home;\n","const loginStyles = () => ({\n  '@global': {\n    body: {\n      backgroundColor: '#fff',\n    },\n  },\n  paper: {\n    marginTop: 100,\n    display: 'flex',\n    padding: 20,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    backgroundColor: '#f50057',\n  },\n  form: {\n    marginTop: 1,\n  },\n  errorText: {\n    color: '#f50057',\n    marginBottom: 5,\n    textAlign: 'center',\n  },\n});\n\nexport default loginStyles;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { withStyles } from '@material-ui/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\n\nimport loginStyles from './loginStyles';\nimport { loginUser } from '../../redux/actions';\n\nconst Login = (props) => {\n  const {\n    dispatch, classes, loginError, isAuthenticated,\n  } = props;\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleEmailChange = ({ target }) => {\n    setEmail(target.value);\n  };\n\n  const handlePasswordChange = ({ target }) => {\n    setPassword(target.value);\n  };\n\n  const handleSubmit = () => {\n    dispatch(loginUser(email, password));\n  };\n\n  if (isAuthenticated) {\n    return <Redirect to='/' />;\n  }\n\n  return (\n    <Container component='main' maxWidth='xs'>\n      <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component='h1' variant='h5'>\n          Sign In\n        </Typography>\n        <TextField\n          variant='outlined'\n          margin='normal'\n          fullWidth\n          id='email'\n          label='Email Address'\n          name='email'\n          onChange={handleEmailChange}\n        />\n        <TextField\n          variant='outlined'\n          margin='normal'\n          fullWidth\n          id='password'\n          label='Password'\n          type='password'\n          name='password'\n          onChange={handlePasswordChange}\n        />\n        {loginError && (\n          <Typography component='p' className={classes.errorText}>\n            Incorrect email or password\n          </Typography>\n        )}\n        <Button\n          type='button'\n          fullWidth\n          variant='contained'\n          color='primary'\n          className={classes.submit}\n          onClick={handleSubmit}\n        >Sign In</Button>\n      </Paper>\n    </Container>\n  );\n};\n\nLogin.propTypes = {\n  dispatch: PropTypes.func,\n  classes: PropTypes.any,\n  loginError: PropTypes.string,\n  isAuthenticated: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isLoggingIn: state.auth.isLoggingIn,\n  loginError: state.auth.loginError,\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default withStyles(loginStyles)(connect(mapStateToProps)(Login));\n","const editorStyles = () => ({\n  editor: {\n    display: 'flex',\n    height: '100%',\n  },\n});\n\nexport default editorStyles;\n","const videoPlayerStyles = () => ({\n  videoArea: {\n    display: 'flex',\n    flexGrow: 2,\n    flexDirection: 'column',\n  },\n  uploadFile: {\n    cursor: 'pointer',\n    color: '#fff',\n    fontSize: '50px',\n  },\n  videoPlayer: {\n    display: 'flex',\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#000',\n  },\n});\n\nexport default videoPlayerStyles;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Button,\n} from '@material-ui/core';\n\nimport {\n  clearFileSelection,\n  toggleClearDialog,\n} from '../../../../redux/actions';\n\nconst ClearSelectionDialog = (props) => {\n  const { dispatch, clearDialogToggle } = props;\n\n  const handleClear = () => {\n    dispatch(clearFileSelection());\n    dispatch(toggleClearDialog(false));\n  };\n\n  const handleClose = () => {\n    dispatch(toggleClearDialog(false));\n  };\n\n  return (\n    <Dialog\n      open={clearDialogToggle}\n      onClose={handleClose}\n    >\n      <DialogTitle>Clear File Selection?</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          This will clear the current file selection and \\\n          wipe all current tags associated with this project.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClear} color='primary'>Clear</Button>\n        <Button onClick={handleClose} color='primary' autoFocus>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nClearSelectionDialog.propTypes = {\n  dispatch: PropTypes.func,\n  clearDialogToggle: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  clearDialogToggle: state.video.clearDialogToggle,\n});\n\nexport default connect(mapStateToProps)(ClearSelectionDialog);\n","const videoControlStyles = () => ({\n  controls: {\n    display: 'flex',\n    flexBasis: '30%',\n    flexDirection: 'column',\n    minHeight: '250px',\n  },\n  controlBar: {\n    backgroundColor: '#cccccc',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    '& *': {\n      cursor: 'pointer',\n    },\n  },\n});\n\nexport default videoControlStyles;\n","/* eslint-disable no-console */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/styles';\nimport {\n  IconButton,\n  Toolbar,\n  Tooltip,\n} from '@material-ui/core';\n\nimport {\n  PlayArrow,\n  Pause,\n  Forward10,\n  Replay10,\n  Clear,\n  CloudUpload,\n} from '@material-ui/icons';\n\nimport {\n  playVideo,\n  pauseVideo,\n  skipForwards,\n  skipBackwards,\n  toggleClearDialog,\n} from '../../../redux/actions';\nimport ClearSelectionDialog from './ClearSelectionDialog';\n\nimport videoControlStyles from './videoControlStyles';\n\nconst VideoControls = (props) => {\n  const {\n    classes, dispatch, videoFilePath, isPlaying, clearDialogToggle,\n  } = props;\n\n  return (\n    <div className={classes.controls}>\n      <Toolbar className={classes.controlBar}>\n        <Tooltip title='Go Back 10 secs'>\n          <IconButton\n            disabled={videoFilePath == null}\n            onClick={() => dispatch(skipBackwards())}\n          ><Replay10 /></IconButton>\n        </Tooltip>\n        <Tooltip title='Play'>\n          <IconButton\n            disabled={isPlaying || videoFilePath == null}\n            onClick={() => dispatch(playVideo())}\n          ><PlayArrow /></IconButton>\n        </Tooltip>\n        <Tooltip title='Pause'>\n          <IconButton\n            disabled={!isPlaying || videoFilePath == null}\n            onClick={() => dispatch(pauseVideo())}\n          ><Pause /></IconButton>\n        </Tooltip>\n        <Tooltip title='Go Forwards 10 secs'>\n          <IconButton\n            disabled={videoFilePath == null}\n            onClick={() => dispatch(skipForwards())}\n          ><Forward10 /></IconButton>\n        </Tooltip>\n        <Tooltip title='Clear Video Selection'>\n          <IconButton\n            disabled={videoFilePath == null}\n            onClick={() => dispatch(toggleClearDialog(true))}\n          ><Clear /></IconButton>\n        </Tooltip>\n        <Tooltip title='Upload Video File'>\n          <IconButton\n            disabled={videoFilePath == null}\n            onClick={() => console.log('Upload')}\n          ><CloudUpload /></IconButton>\n        </Tooltip>\n      </Toolbar>\n      <ClearSelectionDialog open={clearDialogToggle} />\n    </div>\n  );\n};\n\nVideoControls.propTypes = {\n  classes: PropTypes.any,\n  dispatch: PropTypes.func,\n  videoFilePath: PropTypes.string,\n  isPlaying: PropTypes.bool,\n  clearDialogToggle: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  videoFilePath: state.video.videoFilePath,\n  isPlaying: state.video.isPlaying,\n  clearDialogToggle: state.video.clearDialogToggle,\n});\n\nexport default withStyles(\n  videoControlStyles,\n)(connect(mapStateToProps)(VideoControls));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ReactPlayer from 'react-player';\n\nimport { Tooltip } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport PublishIcon from '@material-ui/icons/Publish';\n\nimport { setVideoFile } from '../../../redux/actions';\n\nimport videoPlayerStyles from './videoPlayerStyles';\nimport VideoControls from '../VideoControls';\n\nconst VideoPlayer = (props) => {\n  const {\n    dispatch, classes, videoFilePath, isPlaying,\n  } = props;\n\n  const handleVideoFile = (event) => {\n    event.preventDefault();\n\n    dispatch(setVideoFile(URL.createObjectURL(event.target.files[0])));\n  };\n\n  const UploadIcon = () => (\n    <Tooltip title='Choose video file...'>\n      <label className={classes.uploadFile} >\n        <PublishIcon fontSize='inherit' />\n        <input type='file' accept='video/*' onChange={handleVideoFile} style={{ display: 'none' }} />\n      </label>\n    </Tooltip>\n  );\n\n  return (\n    <div className={classes.videoArea}>\n      <div className={classes.videoPlayer}>\n        { videoFilePath == null\n          ? <UploadIcon />\n          : <ReactPlayer\n              height='100%'\n              url={videoFilePath}\n              playing={isPlaying}\n              pip={false}\n              controls={false}\n            />\n        }\n      </div>\n      <VideoControls />\n    </div>\n  );\n};\n\nVideoPlayer.propTypes = {\n  dispatch: PropTypes.func,\n  classes: PropTypes.any,\n  videoFilePath: PropTypes.string,\n  isPlaying: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  videoFilePath: state.video.videoFilePath,\n  isPlaying: state.video.isPlaying,\n});\n\nexport default withStyles(videoPlayerStyles)(connect(mapStateToProps)(VideoPlayer));\n","/* eslint-disable lines-between-class-members */\nimport Record from 'dataclass';\n\nexport default class TagData extends Record {\n  id: string = '';\n  name: string = '';\n  description: string = '';\n  parent: string = null;\n  children: Array = [];\n  attributes: Array = [];\n\n  equals(other: TagData) {\n    return this.id === other.id\n      && this.name === other.name\n      && this.description === other.description\n      && this.parent === other.parent\n      && this.attributes === other.attributes;\n  }\n\n  getChild(id: string) {\n    const childIndex = this.children.findIndex((child) => child.id === id);\n\n    return this.children[childIndex];\n  }\n\n  addChild(newTag: TagData) {\n    return this.copy({\n      children: this.children.concat(newTag),\n    });\n  }\n}\n","const addTagModalStyles = () => ({\n  tagName: {\n    margin: '0px 0px 20px 0px',\n  },\n  tagDescription: {\n    margin: '0px 0px 20px 0px',\n  },\n  parentTag: {\n    margin: '0px 0px 20px 0px',\n  },\n  attribute: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    margin: '20px 0px 0px 0px',\n  },\n  attributeDeleteIcon: {\n    margin: '0px 10px 0px 0px',\n  },\n  attributeOptions: {\n    flexGrow: 1,\n    minWidth: '200px',\n    margin: '0px 20px 0px 20px',\n  },\n});\n\nexport default addTagModalStyles;\n","/* eslint-disable no-useless-return */\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport {\n  withStyles,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Tooltip,\n  IconButton,\n} from '@material-ui/core';\nimport {\n  Add,\n  Delete,\n} from '@material-ui/icons';\nimport {\n  Autocomplete,\n} from '@material-ui/lab';\n\nimport TagData from '../../../../data/TagData';\n\nimport { addTag, setToggleAddModal } from '../../../../redux/actions';\n\nimport addTagModalStyles from './addTagModalStyles';\n\nconst AddTagModal = (props) => {\n  const [tagName, setTagName] = useState('');\n  const [tagDescription, setTagDescription] = useState('');\n  const [parentTag, setParentTag] = useState('');\n  const [tagAttributes, setTagAttribute] = useState([]);\n\n  const isValidForm = tagName === '' || parentTag === '';\n\n  const {\n    classes,\n    dispatch,\n    addModalToggle,\n    tagList,\n  } = props;\n\n  const clearState = () => {\n    setTagName('');\n    setTagDescription('');\n    setParentTag('');\n    setTagAttribute([]);\n  };\n\n  const handleSave = () => {\n    let newTag = new TagData({\n      name: tagName,\n      description: tagDescription,\n      parent: parentTag,\n    });\n\n    // Check if any attributes are set with less than 2 options\n    let isValidSave = true;\n    if (tagAttributes.length !== 0) {\n      tagAttributes.forEach((attr) => {\n        if (attr.attributeOptions.length < 2) {\n          handleEnableAttributeError(attr);\n          isValidSave = false;\n        } else {\n          const newAttribute = [...newTag.attributes].concat({\n            name: attr.attributeName,\n            options: attr.attributeOptions,\n          });\n          newTag = newTag.copy({ attributes: newAttribute });\n        }\n      });\n    }\n\n    isValidSave = isValidSave && parentTag !== '';\n\n    if (isValidSave) {\n      dispatch(addTag(newTag));\n\n      clearState();\n      dispatch(setToggleAddModal(false));\n    }\n  };\n\n  const handleCancel = () => {\n    clearState();\n\n    dispatch(setToggleAddModal(false));\n  };\n\n  const handleSetParentTag = (val) => {\n    if (val !== null) {\n      if (val.parent) {\n        setParentTag(`${val.parent}~${val.id}`);\n      } else {\n        setParentTag(val.id);\n      }\n    } else {\n      setParentTag('');\n    }\n  };\n\n  const handleAddAttribute = () => {\n    setTagAttribute(tagAttributes.concat({\n      id: uuidv4(),\n      error: false,\n      attributeName: '',\n      attributeOptions: [],\n    }));\n  };\n\n  const handleEnableAttributeError = (attribute) => {\n    const attributes = [...tagAttributes];\n    const attrIndex = tagAttributes.findIndex((attr) => attr.id === attribute.id);\n\n    attributes[attrIndex].error = true;\n\n    setTagAttribute(attributes);\n  };\n\n  const handleChangeAttributeName = (id, e) => {\n    const attributes = [...tagAttributes];\n    const attrIndex = tagAttributes.findIndex((attr) => attr.id === id);\n\n    attributes[attrIndex].attributeName = e.target.value;\n\n    setTagAttribute(attributes);\n  };\n\n  const handleChangeAttributeOption = (id, value, type) => {\n    const attributes = [...tagAttributes];\n    const attrIndex = tagAttributes.findIndex((attr) => attr.id === id);\n\n    switch (type) {\n      case 'create-option':\n        attributes[attrIndex].error = false;\n        attributes[attrIndex].attributeOptions = value;\n        break;\n      case 'remove-option':\n        attributes[attrIndex].attributeOptions = value;\n        break;\n      case 'clear':\n        attributes[attrIndex].attributeOptions = [];\n        break;\n      default:\n        // Do nothing\n        break;\n    }\n\n    setTagAttribute(attributes);\n  };\n\n  const handleRemoveAttribute = (id) => {\n    setTagAttribute(tagAttributes.filter((attr) => attr.id !== id));\n  };\n\n  return (\n    <Dialog open={addModalToggle}>\n      <DialogTitle>Add New Tag</DialogTitle>\n      <DialogContent>\n        <TextField\n          className={classes.tagName}\n          label='Tag Name'\n          variant='outlined'\n          fullWidth\n          value={tagName}\n          onChange={(e) => setTagName(e.target.value)}\n          autoFocus/>\n        <TextField\n          className={classes.tagDescription}\n          label='Description'\n          variant='outlined'\n          fullWidth\n          value={tagDescription}\n          onChange={(e) => setTagDescription(e.target.value)}\n          multiline\n          rows={4} />\n        <Autocomplete\n          className={classes.parentTag}\n          options={tagList}\n          getOptionLabel={(tag) => tag.name}\n          onChange={(_, val) => handleSetParentTag(val)}\n          renderInput={ (params) => (\n            <TextField {...params}\n              label='Parent Tag'\n              value={parentTag.name}\n              variant='outlined' />\n          )}\n        />\n        { tagAttributes.map((attr) => (\n          <div key={attr.id} className={classes.attribute}>\n            <Tooltip title='Delete Attribute'>\n              <IconButton\n                className={classes.attributeDeleteIcon}\n                onClick={() => handleRemoveAttribute(attr.id)}\n                disableRipple\n              ><Delete /></IconButton>\n            </Tooltip>\n            <TextField\n              label='Attribute Name'\n              error={attr.error}\n              helperText={attr.error ? 'Must have at least two options' : ''}\n              value={attr.attributeName}\n              onChange={(e) => handleChangeAttributeName(attr.id, e)}\n              variant='outlined' />\n            <Autocomplete\n              className={classes.attributeOptions}\n              options={[]}\n              onChange={(_, val, type) => handleChangeAttributeOption(attr.id, val, type)}\n              renderInput={ (params) => (\n                <TextField {...params}\n                  label='Options'\n                  variant='outlined' />\n              )}\n              multiple\n              freeSolo />\n          </div>\n        ))}\n        <Button\n          variant='text'\n          color='primary'\n          fullWidth\n          style={{ marginTop: '10px', marginBottom: '10px' }}\n          onClick={handleAddAttribute}\n          startIcon={<Add />}>Add Attribute</Button>\n        <DialogActions>\n          <Button disabled={isValidForm} onClick={handleSave} color='primary'>Save</Button>\n          <Button onClick={handleCancel} color='primary'>Cancel</Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nAddTagModal.propTypes = {\n  dispatch: PropTypes.func,\n  classes: PropTypes.object.isRequired,\n  addModalToggle: PropTypes.bool,\n  tagList: PropTypes.array,\n};\n\nconst mapStateToProps = (state) => ({\n  addModalToggle: state.tags.addModalToggle,\n  tagList: state.tags.tagList,\n});\n\nexport default withStyles(\n  addTagModalStyles,\n)(connect(mapStateToProps)(AddTagModal));\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Collapse,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport {\n  Dehaze,\n  ExpandMore,\n  ExpandLess,\n} from '@material-ui/icons';\n\nconst TagTreeNode = (props) => {\n  const [open, setOpen] = useState(true);\n  const [hasChildren, setHasChildren] = useState(false);\n\n  useEffect(() => {\n    if (props.tag.children.length > 0) {\n      setHasChildren(true);\n    } else {\n      setHasChildren(false);\n    }\n  }, [props.tag.children]);\n\n  const getIcon = () => {\n    if (hasChildren) {\n      if (open) {\n        return <ExpandLess />;\n      }\n\n      return <ExpandMore />;\n    }\n\n    return <Dehaze />;\n  };\n\n  return (\n    <div>\n      <ListItem\n        button\n        key={props.tag.id}\n        onClick={() => setOpen(!open)}\n      >\n        <ListItemIcon>\n          {getIcon()}\n        </ListItemIcon>\n        <ListItemText primary={props.tag.name} />\n      </ListItem>\n      <Collapse in={open} unmountOnExit>\n        {props.tag.children.map((child) => <TagTreeNode key={child.id} tag={child} />)}\n      </Collapse>\n    </div>\n  );\n};\n\nTagTreeNode.propTypes = {\n  tag: PropTypes.object.isRequired,\n};\n\nexport default TagTreeNode;\n","const tagTreeStyles = () => ({\n  tagTree: {\n    border: '1px solid black',\n    // flexGrow: 1,\n  },\n});\n\nexport default tagTreeStyles;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  List,\n  withStyles,\n} from '@material-ui/core';\n// import {\n//   ArrowRight,\n//   ExpandLess,\n//   ExpandMore,\n// } from '@material-ui/icons';\n\nimport TagTreeNode from './TagTreeNode';\n\nimport tagTreeStyles from './tagTreeStyles';\n\nconst TagTree = (props) => {\n  const {\n    tagList,\n  } = props;\n\n  const [rootTags, setRootTags] = useState([]);\n\n  useEffect(() => {\n    const newRootTags = tagList.filter((tag) => tag.parent === false);\n    newRootTags.forEach((tag) => {\n      if (rootTags.filter((rootTag) => rootTag.id === tag.id).length === 0) {\n        setRootTags(rootTags.concat(tag));\n      }\n    });\n  }, [tagList]);\n\n  return (\n    <div>\n      <List>\n        {rootTags.map((tag) => (\n          <TagTreeNode key={tag.id} tag={tag} />\n        ))}\n      </List>\n    </div>\n  );\n};\n\nTagTree.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired,\n  tagList: PropTypes.array.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  tagList: state.tags.tagList,\n});\n\nexport default withStyles(\n  tagTreeStyles,\n)(connect(mapStateToProps)(TagTree));\n","const tagEditorStyles = () => ({\n  tagEditor: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexBasis: '20%',\n    minWidth: '250px',\n    borderRight: 'black 2px solid',\n  },\n  searchArea: {\n    display: 'flex',\n    padding: '15px',\n  },\n  searchBox: {\n    flexGrow: 1,\n  },\n});\n\nexport default tagEditorStyles;\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  withStyles,\n  IconButton,\n  TextField,\n  Tooltip,\n  InputAdornment,\n} from '@material-ui/core';\nimport {\n  Add,\n  Search,\n} from '@material-ui/icons';\n\nimport { setToggleAddModal } from '../../../redux/actions';\n\nimport AddTagModal from './AddTagModal';\nimport TagTree from './TagTree';\n\nimport tagEditorStyles from './tagEditorStyles';\n\nconst TagEditor = (props) => {\n  const { classes, dispatch } = props;\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // useEffect(() => {\n  //   console.log(searchTerm);\n  // }, [searchTerm]);\n\n  return (\n    <div className={classes.tagEditor}>\n      <AddTagModal />\n\n      <div className={classes.searchArea}>\n        <TextField\n          variant='outlined'\n          className={classes.searchBox}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position='start'>\n                <Search />\n              </InputAdornment>\n            ),\n          }}\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)} />\n        <Tooltip title='Add New Tag'>\n          <IconButton\n            onClick={() => dispatch(setToggleAddModal(true))}\n          ><Add /></IconButton>\n        </Tooltip>\n      </div>\n\n      <TagTree />\n    </div>\n  );\n};\n\nTagEditor.propTypes = {\n  dispatch: PropTypes.func,\n  classes: PropTypes.object.isRequired,\n  tagList: PropTypes.array,\n};\n\nexport default withStyles(\n  tagEditorStyles,\n)(connect()(TagEditor));\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core';\nimport editorStyles from './editorStyles';\nimport VideoPlayer from './VideoPlayer';\nimport TagEditor from './TagEditor';\n\nconst Editor = (props) => {\n  const { classes } = props;\n\n  return (\n    <div className={classes.editor}>\n      <TagEditor />\n      <VideoPlayer />\n    </div>\n  );\n};\n\nEditor.propTypes = {\n  classes: PropTypes.any,\n};\n\nexport default withStyles(editorStyles)(Editor);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Navigation from './components/Navigation';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport Editor from './components/Editor';\n\nconst App = (props) => {\n  const { isAuthenticated, isVerifying } = props;\n\n  return (\n    <div className='App'>\n      <Navigation />\n\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path=\"/login\" component={Login} />\n        <ProtectedRoute\n          path=\"/editor\"\n          component={Editor}\n          isAuthenticated={isAuthenticated}\n          isVerifying={isVerifying}\n        />\n      </Switch>\n    </div>\n  );\n};\n\nApp.propTypes = {\n  isAuthenticated: PropTypes.bool,\n  isVerifying: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  isVerifying: state.auth.isVerifying,\n});\n\nexport default connect(mapStateToProps)(App);\n","/* eslint-disable import/prefer-default-export */\nimport {\n  TAG_TOGGLE_ADD_MODAL,\n  TAG_ADD,\n} from '../actions';\n\nimport TagData from '../../data/TagData';\n\nconst createTagObject = (tag) => new TagData({\n  id: tag.id,\n  name: tag.data().name,\n  description: tag.data().description,\n  parent: tag.data().parent,\n  attributes: tag.data().attributes,\n});\n\nconst addTagToList = (tagList, newTag) => {\n  if (tagList.filter((tag) => tag.equals(newTag)).length === 0) {\n    const modifiedTagList = tagList.concat(newTag);\n    const parentTagId = newTag.parent.split('~').filter((val) => val !== '').pop();\n    const parentIndex = modifiedTagList.findIndex(\n      (tag) => tag.id === parentTagId,\n    );\n\n    if (parentIndex >= 0) {\n      modifiedTagList[parentIndex] = modifiedTagList[parentIndex].addChild(newTag);\n    }\n\n    return modifiedTagList;\n  }\n\n  return tagList;\n};\n\nexport const tagsReducer = (\n  state = {\n    tagList: [],\n    addModalToggle: false,\n  },\n  action,\n) => {\n  switch (action.type) {\n    case TAG_TOGGLE_ADD_MODAL:\n      return {\n        ...state,\n        addModalToggle: action.toggle,\n      };\n    case TAG_ADD: {\n      let newTagList = state.tagList;\n\n      action.tags.forEach((tag) => {\n        const newTag = createTagObject(tag);\n\n        newTagList = (newTag.parent) ? (\n          addTagToList(newTagList, newTag)\n        ) : (\n          state.tagList.concat(newTag)\n        );\n      });\n\n      return {\n        ...state,\n        tagList: newTagList,\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\n\nimport { authReducer as auth } from './auth';\nimport { tagsReducer as tags } from './tags';\nimport { videoReducer as video } from './video';\n\nexport default combineReducers({ auth, tags, video });\n","/* eslint-disable import/prefer-default-export */\nimport {\n  AUTH_LOGIN_REQUEST,\n  AUTH_LOGIN_SUCCESS,\n  AUTH_LOGIN_FAILURE,\n  AUTH_LOGOUT_REQUEST,\n  AUTH_LOGOUT_SUCCESS,\n  AUTH_LOGOUT_FAILURE,\n  AUTH_VERIFY_REQUEST,\n  AUTH_VERIFY_SUCCESS,\n} from '../actions';\n\nexport const authReducer = (\n  state = {\n    isLoggingIn: false,\n    isLoggingOut: false,\n    isVerifying: false,\n    loginError: false,\n    logoutError: false,\n    isAuthenticated: false,\n    user: {},\n  },\n  action,\n) => {\n  switch (action.type) {\n    case AUTH_LOGIN_REQUEST:\n      return {\n        ...state,\n        isLoggingIn: true,\n        loginError: false,\n      };\n    case AUTH_LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoggingIn: false,\n        isAuthenticated: true,\n        user: action.user,\n      };\n    case AUTH_LOGIN_FAILURE:\n      return {\n        ...state,\n        isLoggingIn: false,\n        isAuthenticated: false,\n        loginError: true,\n      };\n    case AUTH_LOGOUT_REQUEST:\n      return {\n        ...state,\n        isLoggingOut: true,\n        logoutError: false,\n      };\n    case AUTH_LOGOUT_SUCCESS:\n      return {\n        ...state,\n        isLoggingOut: false,\n        isAuthenticated: false,\n        user: {},\n      };\n    case AUTH_LOGOUT_FAILURE:\n      return {\n        ...state,\n        isLoggingOut: false,\n        logoutError: true,\n      };\n    case AUTH_VERIFY_REQUEST:\n      return {\n        ...state,\n        isVerifying: true,\n        verifyingError: false,\n      };\n    case AUTH_VERIFY_SUCCESS:\n      return {\n        ...state,\n        isVerifying: false,\n      };\n    default:\n      return state;\n  }\n};\n","/* eslint-disable import/prefer-default-export */\nimport {\n  VIDEO_HANDLE_FILE,\n  VIDEO_PLAY,\n  VIDEO_PAUSE,\n  VIDEO_SKIP_FORWARDS,\n  VIDEO_SKIP_BACKWARDS,\n  VIDEO_CLEAR_SELECTION,\n  VIDEO_UPLOAD_PROJECT,\n  VIDEO_TOGGLE_CLEAR_DIALOG,\n} from '../actions';\n\nexport const videoReducer = (\n  state = {\n    videoFilePath: null,\n    isPlaying: false,\n    clearDialogToggle: false,\n  },\n  action,\n) => {\n  switch (action.type) {\n    case VIDEO_HANDLE_FILE:\n      return {\n        ...state,\n        videoFilePath: action.videoFilePath,\n      };\n    case VIDEO_PLAY:\n      if (state.videoFilePath != null) {\n        return {\n          ...state,\n          isPlaying: true,\n        };\n      }\n\n      return state;\n    case VIDEO_PAUSE:\n      return {\n        ...state,\n        isPlaying: false,\n      };\n    case VIDEO_SKIP_FORWARDS:\n      return {\n        ...state,\n      };\n    case VIDEO_SKIP_BACKWARDS:\n      return {\n        ...state,\n      };\n    case VIDEO_TOGGLE_CLEAR_DIALOG:\n      return {\n        ...state,\n        clearDialogToggle: action.toggle,\n      };\n    case VIDEO_CLEAR_SELECTION:\n      return {\n        ...state,\n        videoFilePath: null,\n      };\n    case VIDEO_UPLOAD_PROJECT:\n      return state;\n    default:\n      return state;\n  }\n};\n","import React from 'react';\n\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport configureStore from './configureStore';\n\nconst store = configureStore();\n\nconst Root = () => (\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n);\n\nexport default Root;\n","import { applyMiddleware, createStore } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport { verifyAuth } from './redux/actions';\nimport rootReducer from './redux/reducers';\n\nconst configureStore = (persistedState) => {\n  const store = createStore(\n    rootReducer,\n    persistedState,\n    applyMiddleware(thunkMiddleware),\n  );\n\n  store.dispatch(verifyAuth());\n  return store;\n};\n\nexport default configureStore;\n","/* eslint-disable no-undef */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Root from './Root';\n\nimport 'normalize.css';\n\nReactDOM.render(\n  <Root />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}